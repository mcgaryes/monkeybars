<html>
<head>

	<title>Parallel Task Example</title>

	<script src="../source/task.js" type="text/javascript"></script>
	<script type="text/javascript">

		function handleOnLoad(e) { 
		
			var performTaskFunx = function(){
				var task = this;
				var timeout = setTimeout(function(){
					task.complete();
				},Math.round(Math.random()*3000));
			}

			var task = TaskLibrary.ParallelTask.extend({
				name:"ParallelTask",
				loggingEnabled:true,
				tasks:[{
					name:"SubTask1",
					performTask:performTaskFunx
				},
				{
					name:"SubTask2",
					performTask:performTaskFunx
				},
				{
					name:"SubTask3",
					performTask:performTaskFunx
				}],
				onChange:function(state,error){
					if(state == TaskLibrary.TaskStates.Completed) {
						alert("complete");
					}
				}
			});

			task.start(); 

		}

	</script>

</head>
<body onload="handleOnLoad();">
</body>
</html>