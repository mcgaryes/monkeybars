<html>
<head>

	<title>Complex Task Example</title>
	
	<script src="../monkeybars.js" type="text/javascript"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="index.js"></script>
	<link rel="stylesheet" href="index.css">
		<link rel="stylesheet" href="examples.css">


	<script type="text/javascript">

		var task;

		function execute(e) { 
		
			var simple = new MonkeyBars.Task({
				name:"simple",
				performTask:performTaskFunx
			});

			var sequence = new MonkeyBars.SequenceTask({
				name:"sequence",
				tasks:[{
					name:"sequence subtask one",
					performTask:performTaskFunx
				},
				{
					name:"sequence sub task two",
					performTask:performTaskFunx
				}],
				performTask:function(){
					append("Started",this.name);
					MonkeyBars.SequenceTask.prototype.performTask.call(this,task);
				}
			});

			var parallel = new MonkeyBars.ParallelTask({
				name:"parallel",
				tasks:[{
					name:"parallel subtask one",
					performTask:performTaskFunx
				},
				{
					name:"parallel subtask two",
					performTask:performTaskFunx
				}],
				performTask:function(){
					append("Started",this.name);
					MonkeyBars.ParallelTask.prototype.performTask.call(this,task);
				}
			});

			task = new MonkeyBars.SequenceTask({
				name:"complex",
				logLevel:MonkeyBars.LogLevels.Verbose,
				tasks:[sequence,simple,parallel],
				onChange:function(state,error){
					if(state == MonkeyBars.TaskStates.Completed) {
						append("Completed",this.name,this.executionTime);
					}
				}
			});

			task.start(); 

		}

	</script>
</head>
<body>

	<button id="start" onclick="start();">start</button>
	<button id="stop" onclick="stop();">cancel</button>
	<div id="log"></div>

</body>
</html>